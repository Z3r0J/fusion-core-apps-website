---
import AppGrid from "@/components/AppGrid.tsx";
import BaseLayout from "@/layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const entries = await getCollection("apps");
const apps = entries.map(({ slug, data }) => ({
	slug,
	title: data.title,
	tagline: data.tagline,
	description: data.description,
	category: data.category,
	icon: data.icon,
	playUrl: data.playUrl,
	price: data.price ?? "Free",
	tags: data.tags ?? [],
	rating: data.rating ?? 4.5,
	downloadsLabel: data.downloads ?? "1K+",
}));
---

<BaseLayout
	description="Browse our mobile apps and download them from Google Play."
	title="Apps â€” FusionCore Apps"
>
	<h1 class="mb-6 text-3xl font-bold">Apps</h1>
	<AppGrid apps={apps} client:load />
</BaseLayout>
